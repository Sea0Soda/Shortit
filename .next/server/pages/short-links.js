(()=>{var t={};t.id=122,t.ids=[122,220,636],t.modules={191:t=>{t.exports={card:"Card_card__jk_Lw",cardFooter:"Card_cardFooter__AHoNu"}},237:(t,e)=>{"use strict";Object.defineProperty(e,"A",{enumerable:!0,get:function(){return r}});var r=function(t){return t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE",t.IMAGE="IMAGE",t}({})},361:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1016:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});let s={src:"/_next/static/media/calendar.e59d0347.svg",height:14,width:14,blurWidth:0,blurHeight:0}},1413:(t,e)=>{"use strict";Object.defineProperty(e,"M",{enumerable:!0,get:function(){return function t(e,r){return r in e?e[r]:"then"in e&&"function"==typeof e.then?e.then(e=>t(e,r)):"function"==typeof e&&"default"===r?e:void 0}}})},1428:t=>{"use strict";t.exports=import("axios")},1655:(t,e,r)=>{"use strict";r.a(t,async(t,s)=>{try{r.r(e),r.d(e,{config:()=>m,default:()=>u,getServerSideProps:()=>p,getStaticPaths:()=>_,getStaticProps:()=>h,reportWebVitals:()=>x,routeModule:()=>S,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>g});var i=r(3885),n=r(237),a=r(1413),l=r(9674),o=r(9311),c=r(7197),d=t([c]);c=(d.then?(await d)():d)[0];let u=(0,a.M)(c,"default"),h=(0,a.M)(c,"getStaticProps"),_=(0,a.M)(c,"getStaticPaths"),p=(0,a.M)(c,"getServerSideProps"),m=(0,a.M)(c,"config"),x=(0,a.M)(c,"reportWebVitals"),g=(0,a.M)(c,"unstable_getStaticProps"),j=(0,a.M)(c,"unstable_getStaticPaths"),f=(0,a.M)(c,"unstable_getStaticParams"),A=(0,a.M)(c,"unstable_getServerProps"),v=(0,a.M)(c,"unstable_getServerSideProps"),S=new i.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/short-links",pathname:"/short-links",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:c});s()}catch(t){s(t)}})},1888:t=>{t.exports={app:"App_app__0Z45p",header:"App_header__9Xne4",container:"App_container__qFAfX",nav:"App_nav__85tjd",links:"App_links__YLwKu",main:"App_main__wo9xi"}},2015:t=>{"use strict";t.exports=require("react")},2166:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var s=r(8732),i=r(191),n=r.n(i);function a({className:t,...e}){return(0,s.jsx)("div",{className:`${t} ${n().card}`,...e})}a.Footer=function({className:t,...e}){return(0,s.jsx)("div",{className:`${t} ${n().cardFooter}`,...e})};let l=a},2326:t=>{"use strict";t.exports=require("react-dom")},2889:(t,e,r)=>{"use strict";r.a(t,async(t,s)=>{try{r.d(e,{A:()=>a});var i=r(1428),n=t([i]);let a=(i=(n.then?(await n)():n)[0]).default.create({baseURL:"/api/"});s()}catch(t){s(t)}})},3154:t=>{t.exports={page:"ShortLinkListPage_page__73Xfj",header:"ShortLinkListPage_header__A2kHX",title:"ShortLinkListPage_title__Gv_Ei"}},3873:t=>{"use strict";t.exports=require("path")},3959:()=>{},4295:(t,e,r)=>{"use strict";r.d(e,{A:()=>x});var s=r(8732),i=r(6761),n=r.n(i),a=r(9801),l=r.n(a),o=r(9084),c=r(1016),d=r(5870);let u={src:"/_next/static/media/reply.b828bacd.svg",height:16,width:16,blurWidth:0,blurHeight:0};var h=r(2166),_=r(9732),p=r(5108);function m({value:t,onDelete:e}){return(0,s.jsxs)(h.A,{children:[(0,s.jsxs)("div",{className:l().cardContent,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:l().title,children:t.title}),(0,s.jsxs)("div",{className:l().date,children:[(0,s.jsx)(n(),{src:c.A,alt:"calendar"}),(0,o.A)(t.createdAt)]})]}),(0,s.jsxs)("div",{className:l().buttons,children:[(0,s.jsx)(_.A,{variant:"outline",as:p.A,href:`/short-links/${t._id}`,children:"수정"}),(0,s.jsx)(_.A,{variant:"minimal",type:"button",onClick:function(){e(t._id)},children:"삭제"})]})]}),(0,s.jsxs)(h.A.Footer,{children:[(0,s.jsxs)("div",{className:l().link,children:[(0,s.jsx)(n(),{src:d.A,alt:"link"}),(0,s.jsxs)(p.A,{variant:"primary",href:`/${t.shortUrl}`,target:"_blank",children:["http://localhost:3000","/",t.shortUrl]})]}),(0,s.jsxs)("div",{className:l().link,children:[(0,s.jsx)(n(),{src:u,alt:"reply"}),(0,s.jsx)(p.A,{variant:"secondary",href:t.url,target:"_blank",children:t.url})]})]})]})}function x({items:t=[],onDelete:e}){return(0,s.jsx)("ul",{className:l().shortLinkList,children:t.map(t=>(0,s.jsx)("li",{children:(0,s.jsx)(m,{value:t,onDelete:()=>e(t._id)})},t._id))})}},4919:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var s=r(6037),i=r.n(s);let n=new(i()).Schema({title:{type:String,default:""},url:{type:String,default:""},shortUrl:{type:String,default:""}},{timestamps:!0}),a=i().models.ShortLink||i().model("ShortLink",n)},5108:(t,e,r)=>{"use strict";r.d(e,{A:()=>c});var s=r(8732),i=r(9793),n=r.n(i),a=r(9918),l=r.n(a);let o={primary:n().primary,secondary:n().secondary};function c({className:t="",variant:e,as:r,...i}){let a=`${n().link} ${o[e]??""} ${t}`;return r?(0,s.jsx)(r,{className:a,...i}):(0,s.jsx)(l(),{className:a,...i})}},5870:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});let s={src:"/_next/static/media/link.39e3aa2b.svg",height:16,width:16,blurWidth:0,blurHeight:0}},6037:t=>{"use strict";t.exports=require("mongoose")},6253:t=>{t.exports={button:"Button_button__JJiqJ",primary:"Button_primary__zsboU",secondary:"Button_secondary__RufDp",outline:"Button_outline__5dSOC",minimal:"Button_minimal__3QjI4"}},7197:(t,e,r)=>{"use strict";r.a(t,async(t,s)=>{try{r.r(e),r.d(e,{default:()=>j,getServerSideProps:()=>g});var i=r(8732),n=r(9788),a=r.n(n),l=r(4295),o=r(9732),c=r(5108),d=r(3154),u=r.n(d),h=r(8162),_=r(4919),p=r(2889),m=r(2015),x=t([p]);async function g(){await (0,h.A)();let t=await _.A.find();return{props:{shortLinks:JSON.parse(JSON.stringify(t))}}}function j({shortLinks:t}){let[e,r]=(0,m.useState)(t);async function s(t){await p.A.delete(`/short-links/${t}`),r(e=>e.filter(e=>e._id!==t))}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:"주소 줄이기 - Shortit"})}),(0,i.jsxs)("div",{className:u().page,children:[(0,i.jsxs)("header",{className:u().header,children:[(0,i.jsx)("h1",{className:u().title,children:"주소 줄이기"}),(0,i.jsx)(o.A,{as:c.A,href:"/short-links/new",children:"새로 만들기"})]}),(0,i.jsx)(l.A,{items:e,onDelete:s})]})]})}p=(x.then?(await x)():x)[0],s()}catch(t){s(t)}})},8162:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var s=r(6037),i=r.n(s);let n=`${process.env.MONGODB_URI}/shortit`;if(!n)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let l=async function(){if(a.conn)return a.conn;a.promise||(a.promise=i().connect(n,{bufferCommands:!1}).then(t=>t));try{a.conn=await a.promise}catch(t){throw a.promise=null,t}return a.conn}},8732:t=>{"use strict";t.exports=require("react/jsx-runtime")},9084:(t,e,r)=>{"use strict";function s(t){let e=new Date(t),r=e.getFullYear(),s=e.getMonth()+1,i=e.getDate();return`${r}. ${s}. ${i}`}r.d(e,{A:()=>s})},9311:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>p});var s=r(8732),i=r(6761),n=r.n(i);let a=require("@next/font/google"),l={src:"/_next/static/media/logo.177e5a6d.svg",height:43,width:154,blurWidth:0,blurHeight:0};var o=r(1888),c=r.n(o);r(3959);var d=r(5108),u=r(9788),h=r.n(u);let _=(0,a.Noto_Sans_KR)({weight:["400","500"],subsets:["latin"]});function p({Component:t,pageProps:e}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h(),{children:(0,s.jsx)("title",{children:"Shortit"})}),(0,s.jsxs)("div",{className:`${c().app} ${_.className}`,children:[(0,s.jsx)("header",{className:c().header,children:(0,s.jsxs)("nav",{className:`${c().nav} ${c().container}`,children:[(0,s.jsx)(d.A,{href:"/",children:(0,s.jsx)(n(),{width:93,height:26,src:l,alt:"Shortit"})}),(0,s.jsxs)("div",{className:c().links,children:[(0,s.jsx)(d.A,{href:"/short-links",children:"주소 줄이기"}),(0,s.jsx)(d.A,{href:"/qrcodes",children:"QR코드"})]})]})}),(0,s.jsx)("main",{className:`${c().main} ${c().container}`,children:(0,s.jsx)(t,{...e})})]})]})}},9674:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});var s=r(8732),i=r(2341);function n(){return(0,s.jsxs)(i.Html,{lang:"ko",children:[(0,s.jsx)(i.Head,{}),(0,s.jsxs)("body",{children:[(0,s.jsx)(i.Main,{}),(0,s.jsx)(i.NextScript,{})]})]})}},9732:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var s=r(8732),i=r(6253),n=r.n(i);let a={primary:n().primary,secondary:n().secondary,minimal:n().minimal,outline:n().outline};function l({className:t="",variant:e,as:r,...i}){let l=`${n().button} ${a[e]??n().primary} ${t}`;return r?(0,s.jsx)(r,{className:l,...i}):(0,s.jsx)("button",{className:l,...i})}},9793:t=>{t.exports={link:"Link_link__QIfNi",primary:"Link_primary__LC5eO",secondary:"Link_secondary__Aqu7t"}},9801:t=>{t.exports={shortLinkList:"ShortLinkList_shortLinkList__zVtQj",cardContent:"ShortLinkList_cardContent__xYLgt",title:"ShortLinkList_title__9RTrK",date:"ShortLinkList_date__b1kKD",buttons:"ShortLinkList_buttons___YULj",link:"ShortLinkList_link__NiNRA"}}};var e=require("../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),s=e.X(0,[407,237,341],()=>r(1655));module.exports=s})();