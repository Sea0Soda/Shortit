(()=>{var e={};e.id=872,e.ids=[220,636,872],e.modules={191:e=>{e.exports={card:"Card_card__jk_Lw",cardFooter:"Card_cardFooter__AHoNu"}},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},967:e=>{e.exports={shortLinkForm:"ShortLinkForm_shortLinkForm__yJzpy",label:"ShortLinkForm_label__WieoH",input:"ShortLinkForm_input__DDDgA",buttons:"ShortLinkForm_buttons__J6f9c"}},1182:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>x,getServerSideProps:()=>_});var n=r(8732),a=r(9788),i=r.n(a),o=r(1260),l=r(8978),c=r.n(l),u=r(8162),d=r(4919),p=r(2889),m=r(4233),h=e([p]);async function _(e){let{id:t}=e.query;await (0,u.A)();let r=await d.A.findById(t);return r?{props:{shortLink:JSON.parse(JSON.stringify(r))}}:{notFound:!0}}function x({shortLink:e}){let t=(0,m.useRouter)(),{id:r}=t.query;async function s(e){await p.A.patch(`/short-links/${r}`,e),t.push("/short-links/")}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"주소 수정하기 - Shortit"})}),(0,n.jsxs)("div",{className:c().page,children:[(0,n.jsx)("h1",{className:c().title,children:"수정하기"}),(0,n.jsx)(o.A,{type:o.L.Edit,initialValues:e,onSubmit:s})]})]})}p=(h.then?(await h)():h)[0],s()}catch(e){s(e)}})},1260:(e,t,r)=>{"use strict";r.d(t,{A:()=>p,L:()=>d});var s=r(8732),n=r(2015),a=r(4233),i=r(967),o=r.n(i),l=r(2166),c=r(9732),u=r(3200);let d={Create:"create",Edit:"edit"};function p({type:e=d.Create,initialValues:t={title:"",url:""},onSubmit:r}){let{title:i,url:p}=t,[m,h]=(0,n.useState)({title:i,url:p}),_=(0,a.useRouter)();async function x(e){e.preventDefault(),await r(m),h({title:"",url:""})}function g(e){let{name:t,value:r}=e.target;h(e=>({...e,[t]:r}))}return(0,s.jsx)(l.A,{children:(0,s.jsxs)("form",{className:o().shortLinkForm,onSubmit:x,children:[(0,s.jsxs)("label",{className:o().label,children:["제목",(0,s.jsx)(u.A,{className:o().input,name:"title",value:m.title,onChange:g,placeholder:"제목을 입력해주세요."})]}),(0,s.jsxs)("label",{className:o().label,children:["주소",(0,s.jsx)(u.A,{className:o().input,name:"url",value:m.url,onChange:g,placeholder:"https://example.com/long-url"})]}),(0,s.jsxs)("div",{className:o().buttons,children:[(0,s.jsx)(c.A,{variant:"outline",type:"button",onClick:()=>_.back(),children:"취소"}),(0,s.jsx)(c.A,{children:e===d.Create?"등록하기":e===d.Edit?"수정하기":null})]})]})})}},1428:e=>{"use strict";e.exports=import("axios")},1888:e=>{e.exports={app:"App_app__0Z45p",header:"App_header__9Xne4",container:"App_container__qFAfX",nav:"App_nav__85tjd",links:"App_links__YLwKu",main:"App_main__wo9xi"}},2015:e=>{"use strict";e.exports=require("react")},2166:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(8732),n=r(191),a=r.n(n);function i({className:e,...t}){return(0,s.jsx)("div",{className:`${e} ${a().card}`,...t})}i.Footer=function({className:e,...t}){return(0,s.jsx)("div",{className:`${e} ${a().cardFooter}`,...t})};let o=i},2326:e=>{"use strict";e.exports=require("react-dom")},2889:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>i});var n=r(1428),a=e([n]);let i=(n=(a.then?(await a)():a)[0]).default.create({baseURL:"/api/"});s()}catch(e){s(e)}})},3200:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(8732),n=r(2015),a=r(3395),i=r.n(a);let o=(0,n.forwardRef)(function({className:e="",variant:t,...r},n){let a=`${i().input} ${e}`;return(0,s.jsx)("input",{className:a,...r,ref:n})})},3395:e=>{e.exports={input:"Input_input__SBSuV"}},3873:e=>{"use strict";e.exports=require("path")},3959:()=>{},4075:e=>{"use strict";e.exports=require("zlib")},4919:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(6037),n=r.n(s);let a=new(n()).Schema({title:{type:String,default:""},url:{type:String,default:""},shortUrl:{type:String,default:""}},{timestamps:!0}),i=n().models.ShortLink||n().model("ShortLink",a)},5108:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(8732),n=r(9793),a=r.n(n),i=r(9918),o=r.n(i);let l={primary:a().primary,secondary:a().secondary};function c({className:e="",variant:t,as:r,...n}){let i=`${a().link} ${l[t]??""} ${e}`;return r?(0,s.jsx)(r,{className:i,...n}):(0,s.jsx)(o(),{className:i,...n})}},5811:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>_,default:()=>d,getServerSideProps:()=>h,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>x,routeModule:()=>b,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>g});var n=r(3885),a=r(237),i=r(1413),o=r(9674),l=r(9311),c=r(1182),u=e([c]);c=(u.then?(await u)():u)[0];let d=(0,i.M)(c,"default"),p=(0,i.M)(c,"getStaticProps"),m=(0,i.M)(c,"getStaticPaths"),h=(0,i.M)(c,"getServerSideProps"),_=(0,i.M)(c,"config"),x=(0,i.M)(c,"reportWebVitals"),g=(0,i.M)(c,"unstable_getStaticProps"),f=(0,i.M)(c,"unstable_getStaticPaths"),S=(0,i.M)(c,"unstable_getStaticParams"),j=(0,i.M)(c,"unstable_getServerProps"),v=(0,i.M)(c,"unstable_getServerSideProps"),b=new n.PagesRouteModule({definition:{kind:a.A.PAGES,page:"/short-links/[id]",pathname:"/short-links/[id]",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:c});s()}catch(e){s(e)}})},6037:e=>{"use strict";e.exports=require("mongoose")},6253:e=>{e.exports={button:"Button_button__JJiqJ",primary:"Button_primary__zsboU",secondary:"Button_secondary__RufDp",outline:"Button_outline__5dSOC",minimal:"Button_minimal__3QjI4"}},7910:e=>{"use strict";e.exports=require("stream")},8162:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(6037),n=r.n(s);let a=`${process.env.MONGODB_URI}/shortit`;if(!a)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let o=async function(){if(i.conn)return i.conn;i.promise||(i.promise=n().connect(a,{bufferCommands:!1}).then(e=>e));try{i.conn=await i.promise}catch(e){throw i.promise=null,e}return i.conn}},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8978:e=>{e.exports={page:"ShortLinkEditPage_page__FN7yK",title:"ShortLinkEditPage_title__5yTMP"}},9021:e=>{"use strict";e.exports=require("fs")},9311:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(8732),n=r(6761),a=r.n(n);let i=require("@next/font/google"),o={src:"/_next/static/media/logo.177e5a6d.svg",height:43,width:154,blurWidth:0,blurHeight:0};var l=r(1888),c=r.n(l);r(3959);var u=r(5108),d=r(9788),p=r.n(d);let m=(0,i.Noto_Sans_KR)({weight:["400","500"],subsets:["latin"]});function h({Component:e,pageProps:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p(),{children:(0,s.jsx)("title",{children:"Shortit"})}),(0,s.jsxs)("div",{className:`${c().app} ${m.className}`,children:[(0,s.jsx)("header",{className:c().header,children:(0,s.jsxs)("nav",{className:`${c().nav} ${c().container}`,children:[(0,s.jsx)(u.A,{href:"/",children:(0,s.jsx)(a(),{width:93,height:26,src:o,alt:"Shortit"})}),(0,s.jsxs)("div",{className:c().links,children:[(0,s.jsx)(u.A,{href:"/short-links",children:"주소 줄이기"}),(0,s.jsx)(u.A,{href:"/qrcodes",children:"QR코드"})]})]})}),(0,s.jsx)("main",{className:`${c().main} ${c().container}`,children:(0,s.jsx)(e,{...t})})]})]})}},9674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(8732),n=r(2341);function a(){return(0,s.jsxs)(n.Html,{lang:"ko",children:[(0,s.jsx)(n.Head,{}),(0,s.jsxs)("body",{children:[(0,s.jsx)(n.Main,{}),(0,s.jsx)(n.NextScript,{})]})]})}},9732:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(8732),n=r(6253),a=r.n(n);let i={primary:a().primary,secondary:a().secondary,minimal:a().minimal,outline:a().outline};function o({className:e="",variant:t,as:r,...n}){let o=`${a().button} ${i[t]??a().primary} ${e}`;return r?(0,s.jsx)(r,{className:o,...n}):(0,s.jsx)("button",{className:o,...n})}},9793:e=>{e.exports={link:"Link_link__QIfNi",primary:"Link_primary__LC5eO",secondary:"Link_secondary__Aqu7t"}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[407,237,341,441],()=>r(5811));module.exports=s})();